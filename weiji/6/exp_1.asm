CODE	SEGMENT
	ASSUME CS:CODE
	
	
START:
	
	; MODE 2
	MOV		AL,01110010B
	CALL	INIT_8254
	MOV		AL,0FFH
	CALL	SET_8254
	MOV		AL,00FH
	CALL	SET_8254
	
INIT_8254	PROC	NEAR
	
	PUSH 	DX
	MOV		DX,0606H
	OUT		DX,AL
	POP		DX
	
	RET
	
ENDP
	
SET_8254	PROC	NEAR

	PUSH	DX
	MOV		DX,0602H
	OUT		DX,AL
	POP		DX
	RET
	
ENDP
	
	
DELAY		PROC	NEAR
	PUSH	CS
	
	MOV		CX,0FFFH
	
D1:	
	INC		CX
	DEC		CX
	LOOP	D1
	
	POP		CX
	RET
	
ENDP
	
	
CODE 	ENDS

END		START